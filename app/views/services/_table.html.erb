<div id="dynamic-services-table" v-cloak>

  <div class="loading" v-if="loading">
    Loading...
  </div>
  <div class="" v-else>
    <div class="table-responsive">
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Rating</th>
            <% if current_user && current_user.curator %><th scope="col"># Pending</th><% end %>
            <th scope="col" class="text-right">Documents</th>
            <th></th>
          </tr>
        </thead>
        <tbody id="myTableBody">
          <tr class="toSort" v-for="service in services" :key="service" v-bind:data-classification="service.service.rating">
            <td>
              {{ service.service.name }}
            </td>
            <td>{{ service.service.rating }} </td>
            <% if current_user && current_user.curator %>
            <td>{{ service.pending_points_count }}</td>
            <% end %>
            <td class="text-right" v-if="service.documents_count > 0">
              <a class='btn btn-primary' v-bind:href="'/services/'+ service.service.id + '/annotate'"> Annotate </a>
            </td>
            <td class="text-right" v-else>
              <a class="btn btn-default" v-bind:href="'/documents/new?service=' + service.service.id"> Add one!</a>
            </td>
            <td></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
